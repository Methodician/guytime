<main
  *ngIf="user$ | async as sender"
  class="chat_box"
  [ngClass]="{ owned_chat: sender.uid === loggedInUid }"
>
  <img
    *ngIf="sender.uid !== loggedInUid"
    class="avatar"
    mat-card-avatar
    [src]="avatarUrl$.value"
    alt=""
  />
  <mat-card>
    <mat-card-content>{{ chatMessage.content }}</mat-card-content>

    <mat-card-footer>
      <p class="date" *ngIf="chatMessage.createdAt">
        {{ chatMessage.createdAt.toDate() | timeElapsed }}
      </p>
      <p class="sender">{{ sender.fName }}</p>
    </mat-card-footer>
  </mat-card>

  <div
    *ngIf="sender.uid === loggedInUid"
    mat-card-avatar
    [style.background-image]="'url(' + avatarUrl$.value + ')'"
    class="avatar"
  ></div>
</main>
