<main
  *ngIf="user$ | async as sender"
  [ngClass]="{ owned_chat: sender.uid === loggedInUid }"
>
  <div
    *ngIf="sender.uid !== loggedInUid"
    mat-card-avatar
    alt="Sender Profile Image"
    class="avatar"
    [style.background-image]="'url(' + (avatarUrl$ | async) + ')'"
  ></div>

  <mat-card [ngClass]="{ unread: !wasMessageSeen() }">
    <mat-card-content>{{ chatMessage.content }}</mat-card-content>

    <mat-card-footer>
      <p class="date" *ngIf="chatMessage.createdAt">
        {{ chatMessage.createdAt.toDate() | timeElapsed }}
      </p>
      <p class="sender">{{ sender.fName }}</p>
    </mat-card-footer>
  </mat-card>

  <div
    *ngIf="sender.uid === loggedInUid"
    mat-card-avatar
    alt="Your profile image"
    class="avatar"
    [style.background-image]="'url(' + (avatarUrl$ | async) + ')'"
  ></div>
</main>
